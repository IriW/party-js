const party=function(){function t(){return Math.random()}function n(n,o){return i(n,o,t())}function i(t,n,i){return(1-i)*t+i*n}function o(t,i){return t*n(1-i/2,1+i/2)}function e(t,i){return t+n(-i/2,i/2)}function r(t,n,i){let o,e,r;if(t/=360,n/=100,i/=100,0===n)o=e=r=i;else{const a=(t,n,i)=>(i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(n-t)*i:i<.5?n:i<2/3?t+(n-t)*(2/3-i)*6:t),c=i<.5?i*(1+n):i+n-i*n,l=2*i-c;o=a(l,c,t+1/3),e=a(l,c,t),r=a(l,c,t-1/3)}const a=t=>{const n=Math.round(255*t).toString(16);return 1===n.length?"0"+n:n};return`#${a(o)}${a(e)}${a(r)}`}function a(t,n,o){function e(t){return t.toString(16)}function r(t){return parseInt(t,16)}o=null!=o?o:.5;for(var a="#",c=1;c<=5;c+=2){for(var l=r(t.substr(c,2)),s=r(n.substr(c,2)),h=e(Math.floor(i(l,s,o)));h.length<2;)h="0"+h;a+=h}return a}function c(t,n,i){return t&&null!=t[n]?t[n]:i}function l(t,n,i){t&&null==t[n]&&(t[n]=i)}function s(t,n){for(var i in n)l(t,i,n[i])}function h(t){return Math.abs(Math.cos(t.rx)*Math.cos(t.ry))}function u(t,n,i){let o=t.x*n.w,e=t.y*n.h;return{x:i.px+(o*Math.cos(i.rz)-e*Math.sin(i.rz))*Math.cos(i.ry),y:i.py+(o*Math.sin(i.rz)+e*Math.cos(i.rz))*Math.cos(i.rx)}}function f(t){for(let n=0;n<t.length;n++){let i=t[n].x+window.scrollX,o=t[n].y-window.scrollY;0==n?V.moveTo(i,o):V.lineTo(i,o)}}function y(n,i,l){let s=o(c(l,"count",1),c(l,"countVariation",0)),y=c(l,"angleSpan",0),p=c(l,"yVelocity",0),w=c(l,"yVelocityVariation",0),m=c(l,"rotationVelocityLimit",0),x=c(l,"scaleVariation",0);for(let M=0;M<s;M++){let s=e(0,y)*(Math.PI/180),M=o(p,w),z=o(5,x);d({a:{px:0,py:g.gravityPixels,rx:0,ry:0,rz:0},v:{px:Math.sin(s)*M,py:Math.cos(s)*M,rx:m*t(),ry:m*t(),rz:m*t()},t:{px:(n.left||0)+o((n.width||0)/2,c(l,"randomizePosition",!0)?2:0)+(i?window.scrollX:0),py:(n.top||0)+o((n.height||0)/2,c(l,"randomizePosition",!0)?2:0)+(i?window.scrollY:0),rx:Math.PI*(c(l,"randomizeRotation",!0)?1:0)*t(),ry:Math.PI*(c(l,"randomizeRotation",!0)?1:0)*t(),rz:Math.PI*(c(l,"randomizeRotation",!0)?1:0)*t()},s:{w:z,h:3*z},lifetime:0,color:c(l,"color",c(l,"colorFunction",()=>r(360*t(),100,70))()),draw:function(){V.beginPath(),V.fillStyle=g.applyLighting?a("#000000",this.color,1-.5*h(this.t)):this.color;const t=.2;let n=this.lifetime>t?1:this.lifetime/t,i={w:this.s.w*n,h:this.s.h*n};points=v.map(t=>u(t,i,this.t)),f(points),V.closePath(),V.fill()},update:function(t){function n(t,n,i){return{px:n.px+t.px*i,py:n.py+t.py*i,rx:n.rx+t.rx*i,ry:n.ry+t.ry*i,rz:n.rz+t.rz*i}}this.v=n(this.a,this.v,t),this.t=n(this.v,this.t,t),this.lifetime+=t}})}}function d(t){for(;M.length>=g.maxParticles;)M.shift();M.push(t)}function p(t){M.forEach(n=>n.update(t));let n=Math.max(document.documentElement.offsetHeight,window.innerHeight);M=M.filter(t=>t.t.py<=n)}function w(){V.canvas.width=window.innerWidth,V.canvas.height=window.innerHeight,V.clearRect(0,0,V.canvas.width,V.canvas.height),M.forEach(t=>t.draw())}function m(t){let n=(t-z)/1e3;M.length>0&&(p(n),w()),z=t,window.requestAnimationFrame(m)}const g={maxParticles:3e3,gravityPixels:800,applyLighting:!0},x=document.createElement("canvas");x.id="party-js-canvas",x.style="position: fixed; left: 0; top: 0; pointer-events: none;";const V=x.getContext("2d"),v=[{x:-.5,y:.5},{x:.5,y:.5},{x:.5,y:-.5},{x:-.5,y:-.5}];window.addEventListener("load",()=>document.body.appendChild(x));var M=[],z=0;return window.requestAnimationFrame(m),{element:function(t,n){n=n||{},s(n,{count:40,countVariation:.5,angleSpan:80,yVelocity:-200,yVelocityVariation:.4,rotationVelocityLimit:6,scaleVariation:.8}),y(t.getBoundingClientRect(),!0,n)},position:function(t,n,i){i=i||{},s(i,{count:40,countVariation:.5,angleSpan:80,yVelocity:-300,yVelocityVariation:1,rotationVelocityLimit:6,scaleVariation:.8});let o={left:t,top:n};y(o,!0,i)},cursor:function(t){this.position(window.event.clientX,window.event.clientY,t)},screen:function(t){t=t||{},s(t,{count:window.innerWidth/1980*500,countVariation:.5,angleSpan:0,yVelocity:-100,yVelocityVariation:2,rotationVelocityLimit:6,scaleVariation:.8});let n={width:window.innerWidth,height:-window.innerHeight};y(n,!0,t)}}}();